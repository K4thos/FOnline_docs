<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />

<meta http-equiv="X-UA-Compatible" content="IE=9" />
<meta name="generator" content="Doxygen 1.8.3.1" />
<title>FOnline: Зарезервированные скриптовые функции</title>
<script type="text/javascript" src="jquery.js">
</script>
<script type="text/javascript" src="dynsections.js">
</script>
<link rel="stylesheet" href="files/helpindex.css" type=
"text/css" />
<link rel="stylesheet" href="default.css" type="text/css" />

<script type="text/JavaScript" src="files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "group___server_reserved_main.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"index.html?page=group___server_reserved_main.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"index.html?page=group___server_reserved_main.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->

<div id="top">
<!-- do not remove this div, it is closed by doxygen! -->

<div id="titlearea">
<table cellspacing="0" cellpadding="0">
<tbody>
<tr style="height: 56px;">
<td id="projectlogo"><img alt="Logo" src="logo.jpg" />
</td>
<td style="padding-left: 0.5em;">
<div id="projectname">FOnline</div>
</td>
</tr>
</tbody>
</table>
</div>
<!-- end header part -->
<!-- Создано системой Doxygen 1.8.3.1 -->

<div id="navrow1" class="tabs">
<ul class="tablist">
<li><a href="index.html"><span>Титульная&nbsp;страница</span></a>
</li>

<li><a href="pages.html"><span>Описания</span></a>
</li>

<li><a href="modules.html"><span>Группы</span></a>
</li>

<li><a href="annotated.html"><span>Классы</span></a>
</li>
</ul>
</div>
</div>
<!-- top -->

<div class="header">
<div class="summary"><a href="#func-members">Функции</a>
</div>

<div class="headertitle">
<div class="title">Зарезервированные скриптовые функции

<div class="ingroups"><a class="el" href="group___server.html">API
сервера</a>
</div></div>
</div>
</div>
<!--header-->

<div class="contents">
<p>Используются только в скрипте <b>main.fos</b>. <a href=
"#details">Подробнее...</a></p>

<table class="memberdecls">
<tr class="heading">
<td colspan="2">
<h2 class="groupheader"><a name="func-members" id=
"func-members"></a> Функции</h2>
</td>
</tr>

<tr class="memitem:gaefda118350003a66a85cb59db9db5035">
<td class="memItemLeft" align="right" valign="top">void&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#gaefda118350003a66a85cb59db9db5035">
karma_voting</a> (<a class="el" href=
"class_critter.html">Critter</a> &amp;crFrom, <a class="el" href=
"class_critter.html">Critter</a> &amp;crTo, bool valUp)</td>
</tr>

<tr class="memdesc:gaefda118350003a66a85cb59db9db5035">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Вызывается при смене кармы одним игроком
другому. <a href=
"#gaefda118350003a66a85cb59db9db5035">Подробнее...</a><br /></td>
</tr>

<tr class="separator:gaefda118350003a66a85cb59db9db5035">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>

<tr class="memitem:ga14b67c01434c8c3efbf2ac3f48771674">
<td class="memItemLeft" align="right" valign="top">bool&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#ga14b67c01434c8c3efbf2ac3f48771674">
check_look</a> (<a class="el" href="class_critter.html">Critter</a>
&amp;cr, <a class="el" href="class_critter.html">Critter</a>
&amp;opponent)</td>
</tr>

<tr class="memdesc:ga14b67c01434c8c3efbf2ac3f48771674">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Обработчик, позволяющий проверять в скрипте
видимость одного криттера другим. <a href=
"#ga14b67c01434c8c3efbf2ac3f48771674">Подробнее...</a><br /></td>
</tr>

<tr class="separator:ga14b67c01434c8c3efbf2ac3f48771674">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>

<tr class="memitem:gad0d56d38561e7d8c719a4aba3f17bdab">
<td class="memItemLeft" align="right" valign="top">bool&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#gad0d56d38561e7d8c719a4aba3f17bdab">
check_trap_look</a> (<a class="el" href="class_map.html">Map</a>
&amp;map, <a class="el" href="class_critter.html">Critter</a>
&amp;cr, <a class="el" href="class_item.html">Item</a>
&amp;item)</td>
</tr>

<tr class="memdesc:gad0d56d38561e7d8c719a4aba3f17bdab">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Обработчик, позволяющий проверять в скрипте
видимость предмета криттером. <a href=
"#gad0d56d38561e7d8c719a4aba3f17bdab">Подробнее...</a><br /></td>
</tr>

<tr class="separator:gad0d56d38561e7d8c719a4aba3f17bdab">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>

<tr class="memitem:ga8e26a01b01c68503497a85d8ea23f11e">
<td class="memItemLeft" align="right" valign="top">uint&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#ga8e26a01b01c68503497a85d8ea23f11e">
item_cost</a> (<a class="el" href="class_item.html">Item</a>
&amp;item, <a class="el" href="class_critter.html">Critter</a>
&amp;cr, <a class="el" href="class_critter.html">Critter</a>
&amp;npc, bool sell)</td>
</tr>

<tr class="memdesc:ga8e26a01b01c68503497a85d8ea23f11e">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Обработчик, позволяющий определять в скрипте
цену предметов. <a href=
"#ga8e26a01b01c68503497a85d8ea23f11e">Подробнее...</a><br /></td>
</tr>

<tr class="separator:ga8e26a01b01c68503497a85d8ea23f11e">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>

<tr class="memitem:ga186c6312a9f7164a4dc8e0aa698f1b10">
<td class="memItemLeft" align="right" valign="top">void&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#ga186c6312a9f7164a4dc8e0aa698f1b10">
items_crafted</a> (<a class="el" href="class_item.html">Item</a>
@[]&amp;items, uint[]&amp;itemsCount, <a class="el" href=
"class_item.html">Item</a> @[]&amp;resources, <a class="el" href=
"class_critter.html">Critter</a> &amp;crafter)</td>
</tr>

<tr class="memdesc:ga186c6312a9f7164a4dc8e0aa698f1b10">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Вызывается при крафте игроком новых
предметов. <a href=
"#ga186c6312a9f7164a4dc8e0aa698f1b10">Подробнее...</a><br /></td>
</tr>

<tr class="separator:ga186c6312a9f7164a4dc8e0aa698f1b10">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>

<tr class="memitem:ga3291ac75e19595a5ee5a6261bed57d4d">
<td class="memItemLeft" align="right" valign="top">bool&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#ga3291ac75e19595a5ee5a6261bed57d4d">
items_barter</a> (<a class="el" href="class_item.html">Item</a>
@[]&amp;saleItems, uint[]&amp;saleItemsCount, <a class="el" href=
"class_item.html">Item</a> @[]&amp;buyItems,
uint[]&amp;buyItemsCount, <a class="el" href=
"class_critter.html">Critter</a> &amp;player, <a class="el" href=
"class_critter.html">Critter</a> &amp;npc)</td>
</tr>

<tr class="memdesc:ga3291ac75e19595a5ee5a6261bed57d4d">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Вызывается при попытке совершения бартера
между игроком и NPC. <a href=
"#ga3291ac75e19595a5ee5a6261bed57d4d">Подробнее...</a><br /></td>
</tr>

<tr class="separator:ga3291ac75e19595a5ee5a6261bed57d4d">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>

<tr class="memitem:ga920dae430a7b8ad275e88d693696fa5b">
<td class="memItemLeft" align="right" valign="top">void&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#ga920dae430a7b8ad275e88d693696fa5b">
player_levelup</a> (<a class="el" href=
"class_critter.html">Critter</a> &amp;player, uint skillIndex, uint
skillUp, uint perkIndex)</td>
</tr>

<tr class="memdesc:ga920dae430a7b8ad275e88d693696fa5b">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Вызывается при распределении скиллпоинтов
или выборе перка игроком. <a href=
"#ga920dae430a7b8ad275e88d693696fa5b">Подробнее...</a><br /></td>
</tr>

<tr class="separator:ga920dae430a7b8ad275e88d693696fa5b">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>

<tr class="memitem:gabd3dd70fcbfa2ee4f283f8305fe5e0f9">
<td class="memItemLeft" align="right" valign="top">void&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#gabd3dd70fcbfa2ee4f283f8305fe5e0f9">
turn_based_sequence</a> (<a class="el" href=
"class_map.html">Map</a> &amp;map, <a class="el" href=
"class_critter.html">Critter</a> @[]&amp;critters, <a class="el"
href="class_critter.html">Critter</a> @firstTurnCrit)</td>
</tr>

<tr class="memdesc:gabd3dd70fcbfa2ee4f283f8305fe5e0f9">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Вызывается перед каждым новым раундом в
пошаговом бое. <a href=
"#gabd3dd70fcbfa2ee4f283f8305fe5e0f9">Подробнее...</a><br /></td>
</tr>

<tr class="separator:gabd3dd70fcbfa2ee4f283f8305fe5e0f9">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>
</table>

<table class="memberdecls">
<tr class="heading">
<td colspan="2">
<h2 class="groupheader"><a name="member-group" id=
"member-group"></a> Сервер</h2>
</td>
</tr>

<tr>
<td class="ititle" colspan="2">
<p><a class="anchor" id="amgrpef8c7b07be3ab7f7592e40fda6e5ed1c"
name="amgrpef8c7b07be3ab7f7592e40fda6e5ed1c"></a> 200</p>
</td>
</tr>

<tr class="memitem:gaad5997aaaa2d622f0ca57f8b24a51a7b">
<td class="memItemLeft" align="right" valign="top">bool&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#gaad5997aaaa2d622f0ca57f8b24a51a7b">
start</a> ()</td>
</tr>

<tr class="memdesc:gaad5997aaaa2d622f0ca57f8b24a51a7b">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Вызывается при старте сервера. <a href=
"#gaad5997aaaa2d622f0ca57f8b24a51a7b">Подробнее...</a><br /></td>
</tr>

<tr class="separator:gaad5997aaaa2d622f0ca57f8b24a51a7b">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>

<tr class="memitem:ga02fd73d861ef2e4aabb38c0c9ff82947">
<td class="memItemLeft" align="right" valign="top">void&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#ga02fd73d861ef2e4aabb38c0c9ff82947">
init</a> ()</td>
</tr>

<tr class="memdesc:ga02fd73d861ef2e4aabb38c0c9ff82947">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Вызывается при старте сервера раньше, чем
<a class="el" href=
"group___client_reserved.html#gaad5997aaaa2d622f0ca57f8b24a51a7b"
title=
"Вызывается при запуске клиента или в случае, если придет обновленный скрипт client_main.fos.">
start()</a>, когда мир еще не сгенерирован. <a href=
"#ga02fd73d861ef2e4aabb38c0c9ff82947">Подробнее...</a><br /></td>
</tr>

<tr class="separator:ga02fd73d861ef2e4aabb38c0c9ff82947">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>

<tr class="memitem:ga6dfe1abe0d1eb3ddc1ca081de98b5342">
<td class="memItemLeft" align="right" valign="top">void&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#ga6dfe1abe0d1eb3ddc1ca081de98b5342">
finish</a> ()</td>
</tr>

<tr class="memdesc:ga6dfe1abe0d1eb3ddc1ca081de98b5342">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Вызывается при остановке сервера. <a href=
"#ga6dfe1abe0d1eb3ddc1ca081de98b5342">Подробнее...</a><br /></td>
</tr>

<tr class="separator:ga6dfe1abe0d1eb3ddc1ca081de98b5342">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>

<tr class="memitem:gad51804f0373d7c220f497ea0098db7b8">
<td class="memItemLeft" align="right" valign="top">uint&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#gad51804f0373d7c220f497ea0098db7b8">
loop</a> ()</td>
</tr>

<tr class="memdesc:gad51804f0373d7c220f497ea0098db7b8">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Функция, вызываемая движком с задаваемой
периодичностью. <a href=
"#gad51804f0373d7c220f497ea0098db7b8">Подробнее...</a><br /></td>
</tr>

<tr class="separator:gad51804f0373d7c220f497ea0098db7b8">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>

<tr class="memitem:gad06fb926fdc20404cb32746fc7901025">
<td class="memItemLeft" align="right" valign="top">void&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#gad06fb926fdc20404cb32746fc7901025">
get_start_time</a> (uint16 &amp;multiplier, uint16 &amp;year,
uint16 &amp;month, uint16 &amp;day, uint16 &amp;hour, uint16
&amp;minute)</td>
</tr>

<tr class="memdesc:gad06fb926fdc20404cb32746fc7901025">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Функция, устанавливающая стартовое время
сервера. <a href=
"#gad06fb926fdc20404cb32746fc7901025">Подробнее...</a><br /></td>
</tr>

<tr class="separator:gad06fb926fdc20404cb32746fc7901025">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>
</table>

<table class="memberdecls">
<tr class="heading">
<td colspan="2">
<h2 class="groupheader"><a name="member-group" id=
"member-group"></a> Глобальная карта</h2>
</td>
</tr>

<tr>
<td class="ititle" colspan="2">
<p><a class="anchor" id="amgrp8812b80315285d0c93cfdc20c93f3892"
name="amgrp8812b80315285d0c93cfdc20c93f3892"></a> 190</p>
</td>
</tr>

<tr class="memitem:gab0a8d662673982e25ec82c9a9cb0f918">
<td class="memItemLeft" align="right" valign="top">void&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#gab0a8d662673982e25ec82c9a9cb0f918">
global_process</a> (int type, <a class="el" href=
"class_critter.html">Critter</a> &amp;cr, <a class="el" href=
"class_critter.html">Critter</a> @[]&amp;group, <a class="el" href=
"class_item.html">Item</a> @car, uint &amp;x, uint &amp;y, uint
&amp;toX, uint &amp;toY, uint &amp;speed, uint
&amp;encounterDescriptor, bool &amp;waitForAnswer)</td>
</tr>

<tr class="memdesc:gab0a8d662673982e25ec82c9a9cb0f918">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Вызывается при различных событиях, связанных
с перемещением и различными действиями группы криттеров на
глобальной карте мира. <a href=
"#gab0a8d662673982e25ec82c9a9cb0f918">Подробнее...</a><br /></td>
</tr>

<tr class="separator:gab0a8d662673982e25ec82c9a9cb0f918">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>

<tr class="memitem:ga7d250d78532386133e9a847941a4c461">
<td class="memItemLeft" align="right" valign="top">void&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#ga7d250d78532386133e9a847941a4c461">
global_invite</a> (<a class="el" href=
"class_critter.html">Critter</a> @[]&amp;group, <a class="el" href=
"class_item.html">Item</a> @car, uint encounterDescriptor, int
combatMode, uint &amp;mapId, uint16 &amp;hexX, uint16 &amp;hexY,
uint8 &amp;dir)</td>
</tr>

<tr class="memdesc:ga7d250d78532386133e9a847941a4c461">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Вызывается, когда группа криттеров заходит
на энкаутер. <a href=
"#ga7d250d78532386133e9a847941a4c461">Подробнее...</a><br /></td>
</tr>

<tr class="separator:ga7d250d78532386133e9a847941a4c461">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>
</table>

<table class="memberdecls">
<tr class="heading">
<td colspan="2">
<h2 class="groupheader"><a name="member-group" id=
"member-group"></a> Карты</h2>
</td>
</tr>

<tr>
<td class="ititle" colspan="2">
<p><a class="anchor" id="amgrp1860bda2662b9acb4c3b8c5464bda7fc"
name="amgrp1860bda2662b9acb4c3b8c5464bda7fc"></a> 190</p>
</td>
</tr>

<tr class="memitem:gabb82f6da08ae70daff73bd74491cbae5">
<td class="memItemLeft" align="right" valign="top">void&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#gabb82f6da08ae70daff73bd74491cbae5">
map_critter_in</a> (<a class="el" href="class_map.html">Map</a>
&amp;map, <a class="el" href="class_critter.html">Critter</a>
&amp;cr)</td>
</tr>

<tr class="memdesc:gabb82f6da08ae70daff73bd74491cbae5">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Вызывается при заходе криттера на карту.
<a href=
"#gabb82f6da08ae70daff73bd74491cbae5">Подробнее...</a><br /></td>
</tr>

<tr class="separator:gabb82f6da08ae70daff73bd74491cbae5">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>

<tr class="memitem:gad72a47d2657cd0ed7bf3a8aaf0cc45fe">
<td class="memItemLeft" align="right" valign="top">void&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#gad72a47d2657cd0ed7bf3a8aaf0cc45fe">
map_critter_out</a> (<a class="el" href="class_map.html">Map</a>
&amp;map, <a class="el" href="class_critter.html">Critter</a>
&amp;cr)</td>
</tr>

<tr class="memdesc:gad72a47d2657cd0ed7bf3a8aaf0cc45fe">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Вызывается при выходе криттера с карты.
<a href=
"#gad72a47d2657cd0ed7bf3a8aaf0cc45fe">Подробнее...</a><br /></td>
</tr>

<tr class="separator:gad72a47d2657cd0ed7bf3a8aaf0cc45fe">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>
</table>

<table class="memberdecls">
<tr class="heading">
<td colspan="2">
<h2 class="groupheader"><a name="member-group" id=
"member-group"></a> Криттеры</h2>
</td>
</tr>

<tr>
<td class="ititle" colspan="2">
<p><a class="anchor" id="amgrpdc5d71320a04f9f0c038bfc6d1ea803a"
name="amgrpdc5d71320a04f9f0c038bfc6d1ea803a"></a> 180</p>
</td>
</tr>

<tr class="memitem:ga7282097350909b868fd111a2a3d9de0f">
<td class="memItemLeft" align="right" valign="top">void&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#ga7282097350909b868fd111a2a3d9de0f">
critter_init</a> (<a class="el" href=
"class_critter.html">Critter</a> &amp;cr, bool registration)</td>
</tr>

<tr class="memdesc:ga7282097350909b868fd111a2a3d9de0f">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Вызывается при регистрации/логине игрока или
создании/загрузке NPC. <a href=
"#ga7282097350909b868fd111a2a3d9de0f">Подробнее...</a><br /></td>
</tr>

<tr class="separator:ga7282097350909b868fd111a2a3d9de0f">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>

<tr class="memitem:ga2e960e342438367d7d5ee1c2b019cfa5">
<td class="memItemLeft" align="right" valign="top">void&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#ga2e960e342438367d7d5ee1c2b019cfa5">
critter_idle</a> (<a class="el" href=
"class_critter.html">Critter</a> &amp;cr)</td>
</tr>

<tr class="memdesc:ga2e960e342438367d7d5ee1c2b019cfa5">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Вызывается при простое криттера. <a href=
"#ga2e960e342438367d7d5ee1c2b019cfa5">Подробнее...</a><br /></td>
</tr>

<tr class="separator:ga2e960e342438367d7d5ee1c2b019cfa5">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>

<tr class="memitem:gadb98b4620db18ae5ad585b35acc1c826">
<td class="memItemLeft" align="right" valign="top">void&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#gadb98b4620db18ae5ad585b35acc1c826">
critter_finish</a> (<a class="el" href=
"class_critter.html">Critter</a> &amp;cr)</td>
</tr>

<tr class="memdesc:gadb98b4620db18ae5ad585b35acc1c826">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Вызывается при выходе криттера из игры.
<a href=
"#gadb98b4620db18ae5ad585b35acc1c826">Подробнее...</a><br /></td>
</tr>

<tr class="separator:gadb98b4620db18ae5ad585b35acc1c826">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>

<tr class="memitem:gaf19dd5716c69ab562daef4b8b549a3ba">
<td class="memItemLeft" align="right" valign="top">void&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#gaf19dd5716c69ab562daef4b8b549a3ba">
critter_dead</a> (<a class="el" href=
"class_critter.html">Critter</a> &amp;cr, <a class="el" href=
"class_critter.html">Critter</a> @killer)</td>
</tr>

<tr class="memdesc:gaf19dd5716c69ab562daef4b8b549a3ba">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Вызывается при смерти любого криттера.
<a href=
"#gaf19dd5716c69ab562daef4b8b549a3ba">Подробнее...</a><br /></td>
</tr>

<tr class="separator:gaf19dd5716c69ab562daef4b8b549a3ba">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>

<tr class="memitem:gaedfda71961d5083281e44a6f169accd8">
<td class="memItemLeft" align="right" valign="top">void&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#gaedfda71961d5083281e44a6f169accd8">
critter_respawn</a> (<a class="el" href=
"class_critter.html">Critter</a> &amp;cr)</td>
</tr>

<tr class="memdesc:gaedfda71961d5083281e44a6f169accd8">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Вызывается при респауне криттера. <a href=
"#gaedfda71961d5083281e44a6f169accd8">Подробнее...</a><br /></td>
</tr>

<tr class="separator:gaedfda71961d5083281e44a6f169accd8">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>

<tr class="memitem:ga91b23341ec7bd84e2393f3d0d5db2e5c">
<td class="memItemLeft" align="right" valign="top">void&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#ga91b23341ec7bd84e2393f3d0d5db2e5c">
critter_attack</a> (<a class="el" href=
"class_critter.html">Critter</a> &amp;cr, <a class="el" href=
"class_critter.html">Critter</a> &amp;target, <a class="el" href=
"class_proto_item.html">ProtoItem</a> &amp;weapon, uint8
weaponMode, <a class="el" href=
"class_proto_item.html">ProtoItem</a> @ammo)</td>
</tr>

<tr class="memdesc:ga91b23341ec7bd84e2393f3d0d5db2e5c">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Глобальный обработчик атаки, который
вызывается каждый раз при атаке одного криттера другим. <a href=
"#ga91b23341ec7bd84e2393f3d0d5db2e5c">Подробнее...</a><br /></td>
</tr>

<tr class="separator:ga91b23341ec7bd84e2393f3d0d5db2e5c">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>

<tr class="memitem:ga41cff0d28c2f113d9e196e08aeeac17e">
<td class="memItemLeft" align="right" valign="top">void&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#ga41cff0d28c2f113d9e196e08aeeac17e">
critter_attacked</a> (<a class="el" href=
"class_critter.html">Critter</a> &amp;cr, <a class="el" href=
"class_critter.html">Critter</a> &amp;attacker)</td>
</tr>

<tr class="memdesc:ga41cff0d28c2f113d9e196e08aeeac17e">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Глобальный обработчик атаки, который
вызывается каждый раз при атаке одного криттера другим. <a href=
"#ga41cff0d28c2f113d9e196e08aeeac17e">Подробнее...</a><br /></td>
</tr>

<tr class="separator:ga41cff0d28c2f113d9e196e08aeeac17e">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>

<tr class="memitem:ga139a4f07ec49e27c0ff3effd053eff02">
<td class="memItemLeft" align="right" valign="top">bool&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#ga139a4f07ec49e27c0ff3effd053eff02">
critter_stealing</a> (<a class="el" href=
"class_critter.html">Critter</a> &amp;cr, <a class="el" href=
"class_critter.html">Critter</a> &amp;thief, <a class="el" href=
"class_item.html">Item</a> &amp;item, uint count)</td>
</tr>

<tr class="memdesc:ga139a4f07ec49e27c0ff3effd053eff02">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Глобальный обработчик попытки воровства.
<a href=
"#ga139a4f07ec49e27c0ff3effd053eff02">Подробнее...</a><br /></td>
</tr>

<tr class="separator:ga139a4f07ec49e27c0ff3effd053eff02">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>

<tr class="memitem:ga16a9c516c81a58056fbdf33dfb8a1241">
<td class="memItemLeft" align="right" valign="top">bool&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#ga16a9c516c81a58056fbdf33dfb8a1241">
critter_use_item</a> (<a class="el" href=
"class_critter.html">Critter</a> &amp;cr, <a class="el" href=
"class_item.html">Item</a> &amp;item, <a class="el" href=
"class_critter.html">Critter</a> @targetCr, <a class="el" href=
"class_item.html">Item</a> @targetItem, <a class="el" href=
"class_scenery.html">Scenery</a> @targetScen, uint param)</td>
</tr>

<tr class="memdesc:ga16a9c516c81a58056fbdf33dfb8a1241">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Глобальный обработчик использования
предметов. <a href=
"#ga16a9c516c81a58056fbdf33dfb8a1241">Подробнее...</a><br /></td>
</tr>

<tr class="separator:ga16a9c516c81a58056fbdf33dfb8a1241">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>

<tr class="memitem:ga9bbb7d65b5db0a035fd7765579432e48">
<td class="memItemLeft" align="right" valign="top">bool&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#ga9bbb7d65b5db0a035fd7765579432e48">
critter_use_skill</a> (<a class="el" href=
"class_critter.html">Critter</a> &amp;cr, int skill, <a class="el"
href="class_critter.html">Critter</a> @targetCr, <a class="el"
href="class_item.html">Item</a> @targetItem, <a class="el" href=
"class_scenery.html">Scenery</a> @targetScen)</td>
</tr>

<tr class="memdesc:ga9bbb7d65b5db0a035fd7765579432e48">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Глобальный обработчик использования скиллов.
<a href=
"#ga9bbb7d65b5db0a035fd7765579432e48">Подробнее...</a><br /></td>
</tr>

<tr class="separator:ga9bbb7d65b5db0a035fd7765579432e48">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>

<tr class="memitem:ga587653da2545f952d7fd326bb3ccfecf">
<td class="memItemLeft" align="right" valign="top">void&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#ga587653da2545f952d7fd326bb3ccfecf">
critter_move_item</a> (<a class="el" href=
"class_critter.html">Critter</a> &amp;cr, <a class="el" href=
"class_item.html">Item</a> &amp;item, int fromSlot)</td>
</tr>

<tr class="memdesc:ga587653da2545f952d7fd326bb3ccfecf">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Глобальный обработчик, вызываемый при смене
криттером предмета в активном слоте (в руках и при смене брони).
<a href=
"#ga587653da2545f952d7fd326bb3ccfecf">Подробнее...</a><br /></td>
</tr>

<tr class="separator:ga587653da2545f952d7fd326bb3ccfecf">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>

<tr class="memitem:ga7d034650d59eae13cb692b3c6df3b725">
<td class="memItemLeft" align="right" valign="top">void&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#ga7d034650d59eae13cb692b3c6df3b725">
critter_reload_weapon</a> (<a class="el" href=
"class_critter.html">Critter</a> &amp;cr, <a class="el" href=
"class_item.html">Item</a> &amp;weapon, <a class="el" href=
"class_item.html">Item</a> @ammo)</td>
</tr>

<tr class="memdesc:ga7d034650d59eae13cb692b3c6df3b725">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Вызывается при перезарядке или разрядке
оружия криттером. <a href=
"#ga7d034650d59eae13cb692b3c6df3b725">Подробнее...</a><br /></td>
</tr>

<tr class="separator:ga7d034650d59eae13cb692b3c6df3b725">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>

<tr class="memitem:ga559ffee6bcc1349c3ca6229c1481a3da">
<td class="memItemLeft" align="right" valign="top">void&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#ga559ffee6bcc1349c3ca6229c1481a3da">
critter_move_item</a> (<a class="el" href=
"class_critter.html">Critter</a> &amp;cr, <a class="el" href=
"class_item.html">Item</a> &amp;item, uint8 fromSlot)</td>
</tr>

<tr class="memdesc:ga559ffee6bcc1349c3ca6229c1481a3da">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Вызызывается при смене предмета в активном
слоте (того, что в руках или смене брони) у криттера. <a href=
"#ga559ffee6bcc1349c3ca6229c1481a3da">Подробнее...</a><br /></td>
</tr>

<tr class="separator:ga559ffee6bcc1349c3ca6229c1481a3da">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>

<tr class="memitem:ga8e2e34ae39123e0b54225ead199307b9">
<td class="memItemLeft" align="right" valign="top">bool&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#ga8e2e34ae39123e0b54225ead199307b9">
critter_check_move_item</a> (<a class="el" href=
"class_critter.html">Critter</a> &amp;cr, <a class="el" href=
"class_item.html">Item</a> &amp;item, uint8 toSlot, <a class="el"
href="class_item.html">Item</a> @itemSwap)</td>
</tr>

<tr class="memdesc:ga8e2e34ae39123e0b54225ead199307b9">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Вызызывается перед каждым перемещением
предмета у криттера. <a href=
"#ga8e2e34ae39123e0b54225ead199307b9">Подробнее...</a><br /></td>
</tr>

<tr class="separator:ga8e2e34ae39123e0b54225ead199307b9">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>
</table>

<table class="memberdecls">
<tr class="heading">
<td colspan="2">
<h2 class="groupheader"><a name="member-group" id=
"member-group"></a> Планы</h2>
</td>
</tr>

<tr>
<td class="ititle" colspan="2">
<p><a class="anchor" id="amgrpbcaca62df9db0369498418e3b91325d7"
name="amgrpbcaca62df9db0369498418e3b91325d7"></a>Глобальные
обработчики событий для планов.</p>

<p>Вызываются они только для тех NPC, у которых не определены
соответствующие индивидуальные события.</p>

<p>170</p>
</td>
</tr>

<tr class="memitem:ga121194e5685394b16a9958c5657dfa2d">
<td class="memItemLeft" align="right" valign="top">bool&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#ga121194e5685394b16a9958c5657dfa2d">
npc_plane_begin</a> (<a class="el" href=
"class_critter.html">Critter</a> &amp;npc, <a class="el" href=
"class_npc_plane.html">NpcPlane</a> &amp;plane, uint childIndex,
int reason, <a class="el" href="class_critter.html">Critter</a>
@someCr, <a class="el" href="class_item.html">Item</a>
@someItem)</td>
</tr>

<tr class="memdesc:ga121194e5685394b16a9958c5657dfa2d">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Вызывается перед добавлением плана (которого
еще нет в списках у NPC). <a href=
"#ga121194e5685394b16a9958c5657dfa2d">Подробнее...</a><br /></td>
</tr>

<tr class="separator:ga121194e5685394b16a9958c5657dfa2d">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>

<tr class="memitem:ga39ca7481d6b405a9f3cb0543a0e3f410">
<td class="memItemLeft" align="right" valign="top">bool&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#ga39ca7481d6b405a9f3cb0543a0e3f410">
npc_plane_end</a> (<a class="el" href=
"class_critter.html">Critter</a> &amp;npc, <a class="el" href=
"class_npc_plane.html">NpcPlane</a> &amp;plane, uint childIndex,
int reason, <a class="el" href="class_critter.html">Critter</a>
@someCr, <a class="el" href="class_item.html">Item</a>
@someItem)</td>
</tr>

<tr class="memdesc:ga39ca7481d6b405a9f3cb0543a0e3f410">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Вызывается перед удалением плана (который
еще присутствует в списках планов). <a href=
"#ga39ca7481d6b405a9f3cb0543a0e3f410">Подробнее...</a><br /></td>
</tr>

<tr class="separator:ga39ca7481d6b405a9f3cb0543a0e3f410">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>

<tr class="memitem:gac3526e5c3b20667f12d18d7e92dbd920">
<td class="memItemLeft" align="right" valign="top">bool&nbsp;</td>
<td class="memItemRight" valign="bottom"><a class="el" href=
"group___server_reserved_main.html#gac3526e5c3b20667f12d18d7e92dbd920">
npc_plane_run</a> (<a class="el" href=
"class_critter.html">Critter</a> &amp;npc, <a class="el" href=
"class_npc_plane.html">NpcPlane</a> &amp;plane, uint childIndex,
int reason, uint &amp;result0, uint &amp;result1, uint
&amp;result2)</td>
</tr>

<tr class="memdesc:gac3526e5c3b20667f12d18d7e92dbd920">
<td class="mdescLeft">&nbsp;</td>
<td class="mdescRight">Вызывается во время выполнения некоторых
планов. <a href=
"#gac3526e5c3b20667f12d18d7e92dbd920">Подробнее...</a><br /></td>
</tr>

<tr class="separator:gac3526e5c3b20667f12d18d7e92dbd920">
<td class="memSeparator" colspan="2">&nbsp;</td>
</tr>
</table>
<a name="details" id="details"></a>
<h2 class="groupheader">Подробное описание</h2>

<p>Используются только в скрипте <b>main.fos</b>.</p>

<p>Должны быть обязательно объявлены, иначе сервер не
запустится.</p>

<h2 class="groupheader">Функции</h2>
<a class="anchor" id="gaad5997aaaa2d622f0ca57f8b24a51a7b" name=
"gaad5997aaaa2d622f0ca57f8b24a51a7b"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">bool start</td>
<td>(</td>
<td class="paramname">
</td>
<td>)</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Вызывается при старте сервера.</p>

<dl class="section return">
<dt>Возвращает</dt>

<dd>Показывает удачно ли прошла инициализация. <code>true</code> –
если удачно; <code>false</code> – в противном случае.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga02fd73d861ef2e4aabb38c0c9ff82947" name=
"ga02fd73d861ef2e4aabb38c0c9ff82947"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void init</td>
<td>(</td>
<td class="paramname">
</td>
<td>)</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Вызывается при старте сервера раньше, чем <a class="el" href=
"group___client_reserved.html#gaad5997aaaa2d622f0ca57f8b24a51a7b"
title=
"Вызывается при запуске клиента или в случае, если придет обновленный скрипт client_main.fos.">
start()</a>, когда мир еще не сгенерирован.</p>
</div>
</div>
<a class="anchor" id="ga6dfe1abe0d1eb3ddc1ca081de98b5342" name=
"ga6dfe1abe0d1eb3ddc1ca081de98b5342"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void finish</td>
<td>(</td>
<td class="paramname">
</td>
<td>)</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Вызывается при остановке сервера.</p>
</div>
</div>
<a class="anchor" id="gad51804f0373d7c220f497ea0098db7b8" name=
"gad51804f0373d7c220f497ea0098db7b8"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">uint loop</td>
<td>(</td>
<td class="paramname">
</td>
<td>)</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Функция, вызываемая движком с задаваемой периодичностью.</p>

<p>Период задается с помощью возвращаемого значения.</p>

<dl class="section return">
<dt>Возвращает</dt>

<dd>Время в миллисекундах, через которое функцию следует вызвать
снова. Если будет возвращен ноль, то функция больше не будет
вызываться.</dd>
</dl>
</div>
</div>
<a class="anchor" id="gad06fb926fdc20404cb32746fc7901025" name=
"gad06fb926fdc20404cb32746fc7901025"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void get_start_time</td>
<td>(</td>
<td class="paramtype">uint16 &amp;&nbsp;</td>
<td class="paramname"><em>multiplier</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint16 &amp;&nbsp;</td>
<td class="paramname"><em>year</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint16 &amp;&nbsp;</td>
<td class="paramname"><em>month</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint16 &amp;&nbsp;</td>
<td class="paramname"><em>day</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint16 &amp;&nbsp;</td>
<td class="paramname"><em>hour</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint16 &amp;&nbsp;</td>
<td class="paramname"><em>minute</em>&nbsp;</td>
</tr>

<tr>
<td>
</td>
<td>)</td>
<td>
</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Функция, устанавливающая стартовое время сервера.</p>

<p>Вызывается единожды при создании мира.</p>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramdir">[out]</td>
<td class="paramname">multiplier</td>
<td>Коэффициент ускорения времени (1..99).</td>
</tr>

<tr>
<td class="paramdir">[out]</td>
<td class="paramname">year</td>
<td>Стартовый год (1700..30000).</td>
</tr>

<tr>
<td class="paramdir">[out]</td>
<td class="paramname">month</td>
<td>Стартовый месяц (1..12).</td>
</tr>

<tr>
<td class="paramdir">[out]</td>
<td class="paramname">day</td>
<td>Стартовый день (1..31).</td>
</tr>

<tr>
<td class="paramdir">[out]</td>
<td class="paramname">hour</td>
<td>Стартовый час час (0..23).</td>
</tr>

<tr>
<td class="paramdir">[out]</td>
<td class="paramname">minute</td>
<td>Стартовая минута (0..59)</td>
</tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="gab0a8d662673982e25ec82c9a9cb0f918" name=
"gab0a8d662673982e25ec82c9a9cb0f918"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void global_process</td>
<td>(</td>
<td class="paramtype">int&nbsp;</td>
<td class="paramname"><em>type</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>cr</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> @&amp;[]&nbsp;</td>
<td class="paramname"><em>group</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href="class_item.html">Item</a>
@&nbsp;</td>
<td class="paramname"><em>car</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint &amp;&nbsp;</td>
<td class="paramname"><em>x</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint &amp;&nbsp;</td>
<td class="paramname"><em>y</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint &amp;&nbsp;</td>
<td class="paramname"><em>toX</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint &amp;&nbsp;</td>
<td class="paramname"><em>toY</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint &amp;&nbsp;</td>
<td class="paramname"><em>speed</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint &amp;&nbsp;</td>
<td class="paramname"><em>encounterDescriptor</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">bool &amp;&nbsp;</td>
<td class="paramname"><em>waitForAnswer</em>&nbsp;</td>
</tr>

<tr>
<td>
</td>
<td>)</td>
<td>
</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Вызывается при различных событиях, связанных с перемещением и
различными действиями группы криттеров на глобальной карте
мира.</p>

<p>Типы событий, при которых вызывается данная функция (возможные
значения параметра <em>type</em>):</p>

<ul>
<li><code>GLOBAL_PROCESS_MOVE</code> – при передвижении по
глобальной карте, каждые 5 секунд.</li>

<li><code>GLOBAL_PROCESS_ENTER</code> – при попытке входа на пустую
карту.</li>

<li><code>GLOBAL_PROCESS_START_FAST</code> – сразу при выходе на
глобал или отсоединении от группы.</li>

<li><code>GLOBAL_PROCESS_START</code> – при прошествии 20 секунд от
выхода на глобал или при первой попытке передвижения.</li>

<li><code>GLOBAL_PROCESS_SET_MOVE</code> – при изменении
направления движения.</li>

<li><code>GLOBAL_PROCESS_STOPPED</code> – при остановке группы на
глобале.</li>

<li><code>GLOBAL_PROCESS_NPC_IDLE</code> – при простое NPC на
глобале (промежуток вызова определяется переменной <a class="el"
href="group___server.html#gaff3958fac17760856e73cc721d3fce97"
title="Задаёт периодичность вызова предопределенной функции critter_idle.">
__CritterIdleTick</a>).</li>
</ul>

<p>Для открытия диалогового окна с вопросом о входе на энкаунтер
используются методы <code>Say*</code> класса <a class="el" href=
"class_critter.html" title="Криттер.">Critter</a>, с типами:</p>

<ul>
<li><code>SAY_ENCOUNTER_ANY</code> – возможность выбора между боем
в реальном времени, пошаговым режимом боя и отказом от захода на
энкаутер.</li>

<li><code>SAY_ENCOUNTER_RT</code> – предлагается только бой в
реальном времени и отказ.</li>

<li><code>SAY_ENCOUNTER_TB</code> – предлагается только бой в
пошаговом режиме и отказ.</li>
</ul>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramdir">[in]</td>
<td class="paramname">type</td>
<td>Тип вызова.</td>
</tr>

<tr>
<td class="paramdir">[in]</td>
<td class="paramname">cr</td>
<td>Криттер, для которого вызван обработчик.</td>
</tr>

<tr>
<td class="paramdir">[in]</td>
<td class="paramname">group</td>
<td>Группа тех, кто двигается.</td>
</tr>

<tr>
<td class="paramdir">[in]</td>
<td class="paramname">car</td>
<td>Указатель на машину, используемую группой.</td>
</tr>

<tr>
<td class="paramdir">[in,out]</td>
<td class="paramname">x,y</td>
<td>Текущая позиция.</td>
</tr>

<tr>
<td class="paramdir">[in,out]</td>
<td class="paramname">toX,toY</td>
<td>Позиция, куда двигается группа.</td>
</tr>

<tr>
<td class="paramdir">[out]</td>
<td class="paramname">speed</td>
<td>Служит для установки скорости перемещения по глобалу.</td>
</tr>

<tr>
<td class="paramdir">[out]</td>
<td class="paramname">encounterDescriptor</td>
<td>Если в результате вызова данный параметр принимает ненулевое
значение, то он впоследствии отправится в функцию <a class="el"
href=
"group___server_reserved_main.html#ga7d250d78532386133e9a847941a4c461"
title=
"Вызывается, когда группа криттеров заходит на энкаутер.">global_invite</a>,
в которой уже и надо выставить конкретно номер карты и позицию
входа. Если <em>encounterDescriptor</em> равен 0, то функция
<a class="el" href=
"group___server_reserved_main.html#ga7d250d78532386133e9a847941a4c461"
title=
"Вызывается, когда группа криттеров заходит на энкаутер.">global_invite</a>
не вызывается.</td>
</tr>

<tr>
<td class="paramdir">[out]</td>
<td class="paramname">waitForAnswer</td>
<td>Если в результате вызова данный параметр принимает значение
<code>true</code>, то перед последующим вызовом функции <a class=
"el" href=
"group___server_reserved_main.html#ga7d250d78532386133e9a847941a4c461"
title=
"Вызывается, когда группа криттеров заходит на энкаутер.">global_invite</a>
лидер группы должен подтвердить приглашение. Если
<code>false</code>, то функция <a class="el" href=
"group___server_reserved_main.html#ga7d250d78532386133e9a847941a4c461"
title=
"Вызывается, когда группа криттеров заходит на энкаутер.">global_invite</a>
вызывается сразу. Каким образом показать сообщение лидеру см. в
Примечаниях.</td>
</tr>
</table>
</dd>
</dl>

<dl class="section remark">
<dt>Прим.</dt>

<dd>Можно менять переменные <em>x</em>, <em>y</em>, <em>toX</em>,
<em>toY</em>, чтобы изменить точки: текущую или назначения,
соответственно. Чтобы остановить группу просто присвойте точке
назначения текущую.</dd>

<dd>Первым криттером в списке <em>group</em> является лидер
группы.</dd>
</dl>

<dl class="section see">
<dt>См. также</dt>

<dd><a class="el" href=
"group___server_reserved_main.html#ga7d250d78532386133e9a847941a4c461"
title=
"Вызывается, когда группа криттеров заходит на энкаутер.">global_invite</a>
</dd>

<dd><a class="el" href=
"class_critter.html#a122edebc4747ee930162b5dccd2e40c1" title=
"Заставляет криттера сказать что-либо.">Critter::Say</a>
</dd>

<dd><a class="el" href=
"class_critter.html#a34fb9b319f5abd852e6cd797107d83d4" title=
"Заставляет криттера сказать что-либо.">Critter::SayMsg</a>
</dd>

<dd><a class="el" href=
"group___critter_events.html#ga11e3e9b881b7ccfbcbbb7ca27e745eaa"
title=
"Вызывается при событиях на глобальной карте.">CRITTER_EVENT_GLOBAL_PROCESS</a>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga7d250d78532386133e9a847941a4c461" name=
"ga7d250d78532386133e9a847941a4c461"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void global_invite</td>
<td>(</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> @&amp;[]&nbsp;</td>
<td class="paramname"><em>group</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href="class_item.html">Item</a>
@&nbsp;</td>
<td class="paramname"><em>car</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint&nbsp;</td>
<td class="paramname"><em>encounterDescriptor</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">int&nbsp;</td>
<td class="paramname"><em>combatMode</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint &amp;&nbsp;</td>
<td class="paramname"><em>mapId</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint16 &amp;&nbsp;</td>
<td class="paramname"><em>hexX</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint16 &amp;&nbsp;</td>
<td class="paramname"><em>hexY</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint8 &amp;&nbsp;</td>
<td class="paramname"><em>dir</em>&nbsp;</td>
</tr>

<tr>
<td>
</td>
<td>)</td>
<td>
</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Вызывается, когда группа криттеров заходит на энкаутер.</p>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramdir">[in]</td>
<td class="paramname">group</td>
<td>Группа криттеров, заходящих на энкаутер.</td>
</tr>

<tr>
<td class="paramdir">[in]</td>
<td class="paramname">car</td>
<td>Указатель на машину, используемую группой.</td>
</tr>

<tr>
<td class="paramdir">[in]</td>
<td class="paramname">encounterDescriptor</td>
<td>Переданный из функции <a class="el" href=
"group___server_reserved_main.html#gab0a8d662673982e25ec82c9a9cb0f918"
title=
"Вызывается при различных событиях, связанных с перемещением и различными действиями группы криттеров ...">
global_process</a> номер.</td>
</tr>

<tr>
<td class="paramdir">[in]</td>
<td class="paramname">combatMode</td>
<td>Выбранный (игроком или движком) режим боя (см. <a class="el"
href="group___combat_modes.html">Combat modes</a>).</td>
</tr>

<tr>
<td class="paramdir">[out]</td>
<td class="paramname">mapId</td>
<td>Уникальный идентификатор карты энкаутера. Если в результате
вызова данный параметр принимает ненулевое значение, то группа
заходит на указанную карту.</td>
</tr>

<tr>
<td class="paramdir">[out]</td>
<td class="paramname">hexX,hexY</td>
<td>Начальная позиция криттеров на карте.</td>
</tr>

<tr>
<td class="paramdir">[out]</td>
<td class="paramname">dir</td>
<td>Начальное направление криттеров на карте.</td>
</tr>
</table>
</dd>
</dl>

<dl class="section see">
<dt>См. также</dt>

<dd><a class="el" href=
"group___server_reserved_main.html#gab0a8d662673982e25ec82c9a9cb0f918"
title=
"Вызывается при различных событиях, связанных с перемещением и различными действиями группы криттеров ...">
global_process</a>
</dd>

<dd><a class="el" href=
"group___critter_events.html#gaf46c910074be81632e5cbb5810c26cc9"
title=
"Вызывается при переходе на карту на глобальной карте мира.">CRITTER_EVENT_GLOBAL_INVITE</a>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="gabb82f6da08ae70daff73bd74491cbae5" name=
"gabb82f6da08ae70daff73bd74491cbae5"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void map_critter_in</td>
<td>(</td>
<td class="paramtype"><a class="el" href="class_map.html">Map</a>
&amp;&nbsp;</td>
<td class="paramname"><em>map</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>cr</em>&nbsp;</td>
</tr>

<tr>
<td>
</td>
<td>)</td>
<td>
</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Вызывается при заходе криттера на карту.</p>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramname">map</td>
<td>Карта, на которую осуществляется вход.</td>
</tr>

<tr>
<td class="paramname">cr</td>
<td>Игрок, который входит.</td>
</tr>
</table>
</dd>
</dl>

<dl class="section see">
<dt>См. также</dt>

<dd>MAP_EVENT_CRITTER_IN</dd>
</dl>
</div>
</div>
<a class="anchor" id="gad72a47d2657cd0ed7bf3a8aaf0cc45fe" name=
"gad72a47d2657cd0ed7bf3a8aaf0cc45fe"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void map_critter_out</td>
<td>(</td>
<td class="paramtype"><a class="el" href="class_map.html">Map</a>
&amp;&nbsp;</td>
<td class="paramname"><em>map</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>cr</em>&nbsp;</td>
</tr>

<tr>
<td>
</td>
<td>)</td>
<td>
</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Вызывается при выходе криттера с карты.</p>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramname">map</td>
<td>Карта, с которой осуществляется выход.</td>
</tr>

<tr>
<td class="paramname">cr</td>
<td>Игрок, который выходит.</td>
</tr>
</table>
</dd>
</dl>

<dl class="section see">
<dt>См. также</dt>

<dd>MAP_EVENT_CRITTER_OUT</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga7282097350909b868fd111a2a3d9de0f" name=
"ga7282097350909b868fd111a2a3d9de0f"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void critter_init</td>
<td>(</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>cr</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">bool&nbsp;</td>
<td class="paramname"><em>registration</em>&nbsp;</td>
</tr>

<tr>
<td>
</td>
<td>)</td>
<td>
</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Вызывается при регистрации/логине игрока или создании/загрузке
NPC.</p>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramname">cr</td>
<td>Игрок.</td>
</tr>

<tr>
<td class="paramname">registration</td>
<td>При логине равен <code>false</code>; при регистрации (первом
входе) – <code>true</code>.</td>
</tr>
</table>
</dd>
</dl>

<dl class="section remark">
<dt>Прим.</dt>

<dd>По умолчанию, стартовой позицией игроков считается центр
глобальной карты.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga2e960e342438367d7d5ee1c2b019cfa5" name=
"ga2e960e342438367d7d5ee1c2b019cfa5"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void critter_idle</td>
<td>(</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>cr</em>
</td>
<td>)</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Вызывается при простое криттера.</p>

<p>Периодичность вызова определяется глобальной переменной
<a class="el" href=
"group___server.html#gaff3958fac17760856e73cc721d3fce97" title=
"Задаёт периодичность вызова предопределенной функции critter_idle.">
__CritterIdleTick</a>.</p>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramname">cr</td>
<td>Криттер, для которого вызывается функция.</td>
</tr>
</table>
</dd>
</dl>

<dl class="section see">
<dt>См. также</dt>

<dd><a class="el" href=
"group___critter_events.html#gaf23f5776f9e3247781d592b06945b764"
title=
"Вызывается каждые 20 секунд простоя криттера.">CRITTER_EVENT_IDLE</a>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="gadb98b4620db18ae5ad585b35acc1c826" name=
"gadb98b4620db18ae5ad585b35acc1c826"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void critter_finish</td>
<td>(</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>cr</em>
</td>
<td>)</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Вызывается при выходе криттера из игры.</p>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramname">cr</td>
<td>Криттер, для которого вызывается функция.</td>
</tr>
</table>
</dd>
</dl>

<dl class="section see">
<dt>См. также</dt>

<dd><a class="el" href=
"group___critter_events.html#gad6dfb4a3e5101ac2e98f9657ab6ede7c"
title=
"Вызывается при удалении криттера из игры.">CRITTER_EVENT_FINISH</a>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="gaf19dd5716c69ab562daef4b8b549a3ba" name=
"gaf19dd5716c69ab562daef4b8b549a3ba"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void critter_dead</td>
<td>(</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>cr</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> @&nbsp;</td>
<td class="paramname"><em>killer</em>&nbsp;</td>
</tr>

<tr>
<td>
</td>
<td>)</td>
<td>
</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Вызывается при смерти любого криттера.</p>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramname">cr</td>
<td>Убитый или погибший криттер.</td>
</tr>

<tr>
<td class="paramname">killer</td>
<td>Указатель на криттера-убийцу.</td>
</tr>
</table>
</dd>
</dl>

<dl class="section see">
<dt>См. также</dt>

<dd><a class="el" href=
"group___critter_events.html#ga21a716f1c798f7376a71ef8ce3480930"
title=
"Вызывается при смерти криттера перед глобальным обработчиком смертей critter_dead.">
CRITTER_EVENT_DEAD</a> <a class="el" href=
"group___map_events.html#gaacb22c5ecdbe5c52c8f246a598392d36" title=
"Вызывается при смерти криттера на данной карте.">MAP_EVENT_CRITTER_DEAD</a></dd>
</dl>
</div>
</div>
<a class="anchor" id="gaedfda71961d5083281e44a6f169accd8" name=
"gaedfda71961d5083281e44a6f169accd8"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void critter_respawn</td>
<td>(</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>cr</em>
</td>
<td>)</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Вызывается при респауне криттера.</p>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramname">cr</td>
<td>Криттер, для которого вызывается событие.</td>
</tr>
</table>
</dd>
</dl>

<dl class="section see">
<dt>См. также</dt>

<dd><a class="el" href=
"group___critter_events.html#ga52c20d371bcf04c866b298c19c1a172c"
title=
"Вызывается при оживлении криттера после смерти (респауне).">CRITTER_EVENT_RESPAWN</a>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga91b23341ec7bd84e2393f3d0d5db2e5c" name=
"ga91b23341ec7bd84e2393f3d0d5db2e5c"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void critter_attack</td>
<td>(</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>cr</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>target</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href=
"class_proto_item.html">ProtoItem</a> &amp;&nbsp;</td>
<td class="paramname"><em>weapon</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint8&nbsp;</td>
<td class="paramname"><em>weaponMode</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href=
"class_proto_item.html">ProtoItem</a> @&nbsp;</td>
<td class="paramname"><em>ammo</em>&nbsp;</td>
</tr>

<tr>
<td>
</td>
<td>)</td>
<td>
</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Глобальный обработчик атаки, который вызывается каждый раз при
атаке одного криттера другим.</p>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramname">cr</td>
<td>Атакующий криттер.</td>
</tr>

<tr>
<td class="paramname">target</td>
<td>Атакуемый криттер.</td>
</tr>

<tr>
<td class="paramname">weapon</td>
<td>Используемый прототип оружия, уже настроенный на нужный тип
атаки.</td>
</tr>

<tr>
<td class="paramname">weaponMode</td>
<td>Режим атаки оружия. старшие четыре бита - прицел (см. <a class=
"el" href="group___hit_locations.html">Hit Locations</a>), младшие
четыре бита - тип использования (0 – primary, 1 – secondary, 2 –
third).</td>
</tr>

<tr>
<td class="paramname">ammo</td>
<td>Используемая амуниция.</td>
</tr>
</table>
</dd>
</dl>

<dl class="section see">
<dt>См. также</dt>

<dd><a class="el" href=
"class_critter.html#a209085b342c2bd2cda879fa4bbe6b71a" title=
"Служит для оповещения игроков о результатах боя.">Critter::SendCombatResult</a>
</dd>

<dd><a class="el" href=
"group___critter_events.html#gaf0353ce88e21b570e16fb6c681acc25c"
title=
"Вызывается при атаке криттером кого-либо.">CRITTER_EVENT_ATTACK</a>
</dd>

<dd><a class="el" href=
"group___critter_events.html#gae468fc01fdb6228f92a70b6f601c1f7e"
title=
"Вызывается, когда какой-либо криттер в области видимости атакует кого-либо.">
CRITTER_EVENT_SMTH_ATTACK</a>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga41cff0d28c2f113d9e196e08aeeac17e" name=
"ga41cff0d28c2f113d9e196e08aeeac17e"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void critter_attacked</td>
<td>(</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>cr</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>attacker</em>&nbsp;</td>
</tr>

<tr>
<td>
</td>
<td>)</td>
<td>
</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Глобальный обработчик атаки, который вызывается каждый раз при
атаке одного криттера другим.</p>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramname">cr</td>
<td>Атакуемый криттер.</td>
</tr>

<tr>
<td class="paramname">attacker</td>
<td>Атакующий криттер.</td>
</tr>
</table>
</dd>
</dl>

<dl class="section see">
<dt>См. также</dt>

<dd><a class="el" href=
"group___critter_events.html#gab76f56912e9b85aa1302b3d91a0c1aeb"
title=
"Вызывается когда данного криттера атаковали.">CRITTER_EVENT_ATTACKED</a>
</dd>

<dd><a class="el" href=
"group___critter_events.html#gac7a81e7dc7426a1cbedff96703471980"
title=
"Вызывается, когда какой-либо криттер в области видимости атакован.">
CRITTER_EVENT_SMTH_ATTACKED</a>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga139a4f07ec49e27c0ff3effd053eff02" name=
"ga139a4f07ec49e27c0ff3effd053eff02"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">bool critter_stealing</td>
<td>(</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>cr</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>thief</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href="class_item.html">Item</a>
&amp;&nbsp;</td>
<td class="paramname"><em>item</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint&nbsp;</td>
<td class="paramname"><em>count</em>&nbsp;</td>
</tr>

<tr>
<td>
</td>
<td>)</td>
<td>
</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Глобальный обработчик попытки воровства.</p>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramname">cr</td>
<td>Обворовываемый криттер.</td>
</tr>

<tr>
<td class="paramname">thief</td>
<td>Вор.</td>
</tr>

<tr>
<td class="paramname">item</td>
<td>Воруемый предмет.</td>
</tr>

<tr>
<td class="paramname">count</td>
<td>Количество воруемых предметов.</td>
</tr>
</table>
</dd>
</dl>

<dl class="section return">
<dt>Возвращает</dt>

<dd>Попадает в параметр <em>success</em> в обработчиках <a class=
"el" href=
"group___critter_events.html#ga1b4873a6f9eba1fa19a6b63ad39092ce"
title=
"Вызываетcя при попытке воровства у данного криттера.">CRITTER_EVENT_STEALING</a>
и <a class="el" href=
"group___critter_events.html#gaa75b1e4aaa0972a334f24dec0b095f2f"
title=
"Вызывается, когда какой-либо криттер в области видимости подвергся краже.">
CRITTER_EVENT_SMTH_STEALING</a>, которые, в свою очередь, уже не
возвращают никакого значения.</dd>
</dl>

<dl class="section see">
<dt>См. также</dt>

<dd><a class="el" href=
"group___critter_events.html#ga1b4873a6f9eba1fa19a6b63ad39092ce"
title=
"Вызываетcя при попытке воровства у данного криттера.">CRITTER_EVENT_STEALING</a>
</dd>

<dd><a class="el" href=
"group___critter_events.html#gaa75b1e4aaa0972a334f24dec0b095f2f"
title=
"Вызывается, когда какой-либо криттер в области видимости подвергся краже.">
CRITTER_EVENT_SMTH_STEALING</a>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga16a9c516c81a58056fbdf33dfb8a1241" name=
"ga16a9c516c81a58056fbdf33dfb8a1241"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">bool critter_use_item</td>
<td>(</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>cr</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href="class_item.html">Item</a>
&amp;&nbsp;</td>
<td class="paramname"><em>item</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> @&nbsp;</td>
<td class="paramname"><em>targetCr</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href="class_item.html">Item</a>
@&nbsp;</td>
<td class="paramname"><em>targetItem</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href=
"class_scenery.html">Scenery</a> @&nbsp;</td>
<td class="paramname"><em>targetScen</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint&nbsp;</td>
<td class="paramname"><em>param</em>&nbsp;</td>
</tr>

<tr>
<td>
</td>
<td>)</td>
<td>
</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Глобальный обработчик использования предметов.</p>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramname">cr</td>
<td>Криттер, который использует предмет.</td>
</tr>

<tr>
<td class="paramname">item</td>
<td>Используемый предмет.</td>
</tr>

<tr>
<td class="paramname">targetCr</td>
<td>Указатель на криттера, на котором используется предмет.</td>
</tr>

<tr>
<td class="paramname">targetItem</td>
<td>Указатель на предмет, на котором используется предмет.</td>
</tr>

<tr>
<td class="paramname">targetScen</td>
<td>Указатель на сценери, на котором используется предмет.</td>
</tr>

<tr>
<td class="paramname">param</td>
<td>(?).</td>
</tr>
</table>
</dd>
</dl>

<dl class="section return">
<dt>Возвращает</dt>

<dd><code>true</code>, если обработка полностью выполнена скриптом;
<code>false</code>, если обработка должна быть выполнена
движком.</dd>
</dl>

<dl class="section see">
<dt>См. также</dt>

<dd><a class="el" href=
"group___critter_events.html#ga7af10ccfccd0767e3e1adf7b741397b7"
title=
"Вызывается при использовании данными криттером какого-либо предмета.">
CRITTER_EVENT_USE_ITEM</a>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga9bbb7d65b5db0a035fd7765579432e48" name=
"ga9bbb7d65b5db0a035fd7765579432e48"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">bool critter_use_skill</td>
<td>(</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>cr</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">int&nbsp;</td>
<td class="paramname"><em>skill</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> @&nbsp;</td>
<td class="paramname"><em>targetCr</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href="class_item.html">Item</a>
@&nbsp;</td>
<td class="paramname"><em>targetItem</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href=
"class_scenery.html">Scenery</a> @&nbsp;</td>
<td class="paramname"><em>targetScen</em>&nbsp;</td>
</tr>

<tr>
<td>
</td>
<td>)</td>
<td>
</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Глобальный обработчик использования скиллов.</p>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramname">cr</td>
<td>Криттер, использующий скилл.</td>
</tr>

<tr>
<td class="paramname">skill</td>
<td>Используемый скилл (см. <a class="el" href=
"group___skills.html">Навыки</a> и <a class="el" href=
"group___special_skill_values.html">Special Skill Values</a>).</td>
</tr>

<tr>
<td class="paramname">targetCr</td>
<td>Указатель на криттера, на котором используется скилл.</td>
</tr>

<tr>
<td class="paramname">targetItem</td>
<td>Указатель на предмет, на котором используется скилл.</td>
</tr>

<tr>
<td class="paramname">targetScen</td>
<td>Указатель на сценери, на котором используется скилл.</td>
</tr>
</table>
</dd>
</dl>

<dl class="section return">
<dt>Возвращает</dt>

<dd><code>true</code>, если обработка полностью выполнена скриптом;
<code>false</code>, если обработка должна быть выполнена
движком.</dd>
</dl>

<dl class="section see">
<dt>См. также</dt>

<dd><a class="el" href=
"group___critter_events.html#gab0fcdeaebc66147bb6cc96b5147dd6fe"
title=
"Вызывается при использовании навыка на что-либо.">CRITTER_EVENT_USE_SKILL</a>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga587653da2545f952d7fd326bb3ccfecf" name=
"ga587653da2545f952d7fd326bb3ccfecf"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void critter_move_item</td>
<td>(</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>cr</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href="class_item.html">Item</a>
&amp;&nbsp;</td>
<td class="paramname"><em>item</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">int&nbsp;</td>
<td class="paramname"><em>fromSlot</em>&nbsp;</td>
</tr>

<tr>
<td>
</td>
<td>)</td>
<td>
</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Глобальный обработчик, вызываемый при смене криттером предмета в
активном слоте (в руках и при смене брони).</p>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramname">cr</td>
<td>Криттер, меняющий предмет.</td>
</tr>

<tr>
<td class="paramname">item</td>
<td>Предмет.</td>
</tr>

<tr>
<td class="paramname">fromSlot</td>
<td>Слот (см. <a class="el" href=
"group___slots.html">Slots</a>).</td>
</tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga7d034650d59eae13cb692b3c6df3b725" name=
"ga7d034650d59eae13cb692b3c6df3b725"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void critter_reload_weapon</td>
<td>(</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>cr</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href="class_item.html">Item</a>
&amp;&nbsp;</td>
<td class="paramname"><em>weapon</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href="class_item.html">Item</a>
@&nbsp;</td>
<td class="paramname"><em>ammo</em>&nbsp;</td>
</tr>

<tr>
<td>
</td>
<td>)</td>
<td>
</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Вызывается при перезарядке или разрядке оружия криттером.</p>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramname">cr</td>
<td>Криттер, который выполняет перезарядку.</td>
</tr>

<tr>
<td class="paramname">weapon</td>
<td>Оружие.</td>
</tr>

<tr>
<td class="paramname">ammo</td>
<td>Указатель на предмет, представляющий патроны. Если передан
<code>null</code>, то это значит, что криттер разряжает
оружие.</td>
</tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga559ffee6bcc1349c3ca6229c1481a3da" name=
"ga559ffee6bcc1349c3ca6229c1481a3da"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void critter_move_item</td>
<td>(</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>cr</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href="class_item.html">Item</a>
&amp;&nbsp;</td>
<td class="paramname"><em>item</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint8&nbsp;</td>
<td class="paramname"><em>fromSlot</em>&nbsp;</td>
</tr>

<tr>
<td>
</td>
<td>)</td>
<td>
</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Вызызывается при смене предмета в активном слоте (того, что в
руках или смене брони) у криттера.</p>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramname">cr</td>
<td>Криттер, который меняет предмет.</td>
</tr>

<tr>
<td class="paramname">item</td>
<td>Предмет, который меняется.</td>
</tr>

<tr>
<td class="paramname">fromSlot</td>
<td>Слот, из которого берется предмет.</td>
</tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga8e2e34ae39123e0b54225ead199307b9" name=
"ga8e2e34ae39123e0b54225ead199307b9"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">bool critter_check_move_item</td>
<td>(</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>cr</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href="class_item.html">Item</a>
&amp;&nbsp;</td>
<td class="paramname"><em>item</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint8&nbsp;</td>
<td class="paramname"><em>toSlot</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href="class_item.html">Item</a>
@&nbsp;</td>
<td class="paramname"><em>itemSwap</em>&nbsp;</td>
</tr>

<tr>
<td>
</td>
<td>)</td>
<td>
</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Вызызывается перед каждым перемещением предмета у криттера.</p>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramname">cr</td>
<td>Криттер, который меняет предмет;</td>
</tr>

<tr>
<td class="paramname">item</td>
<td>Предмет, который перемещается;</td>
</tr>

<tr>
<td class="paramname">toSlot</td>
<td>Слот, из которого берется предмет;</td>
</tr>

<tr>
<td class="paramname">itemSwap</td>
<td>предмет, который уже находится в слоте назначения и который
переместится в слот перемещаемого предмета при успешной
транзакции.</td>
</tr>
</table>
</dd>
</dl>

<dl class="section return">
<dt>Возвращает</dt>

<dd>Если возвратить <code>false</code>, то предмет не переместится;
если <code>true</code>, то переместится.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga121194e5685394b16a9958c5657dfa2d" name=
"ga121194e5685394b16a9958c5657dfa2d"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">bool npc_plane_begin</td>
<td>(</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>npc</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href=
"class_npc_plane.html">NpcPlane</a> &amp;&nbsp;</td>
<td class="paramname"><em>plane</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint&nbsp;</td>
<td class="paramname"><em>childIndex</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">int&nbsp;</td>
<td class="paramname"><em>reason</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> @&nbsp;</td>
<td class="paramname"><em>someCr</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href="class_item.html">Item</a>
@&nbsp;</td>
<td class="paramname"><em>someItem</em>&nbsp;</td>
</tr>

<tr>
<td>
</td>
<td>)</td>
<td>
</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Вызывается перед добавлением плана (которого еще нет в списках у
NPC).</p>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramname">npc</td>
<td>NPC, для которого вызвана функция.</td>
</tr>

<tr>
<td class="paramname">plane</td>
<td>Добавляемый план.</td>
</tr>

<tr>
<td class="paramname">childIndex</td>
<td>Номер плана в цепочке наследников.</td>
</tr>

<tr>
<td class="paramname">reason</td>
<td>Указывает причину начала плана (см. <a class="el" href=
"group___planes_reasons.html">Plane begin reasons</a>).</td>
</tr>

<tr>
<td class="paramname">someCr</td>
<td>(?)</td>
</tr>

<tr>
<td class="paramname">someItem</td>
<td>(?)</td>
</tr>
</table>
</dd>
</dl>

<dl class="section return">
<dt>Возвращает</dt>

<dd>Если возвратить <code>false</code>, то план не добавится; если
<code>true</code>, то добавится.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga39ca7481d6b405a9f3cb0543a0e3f410" name=
"ga39ca7481d6b405a9f3cb0543a0e3f410"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">bool npc_plane_end</td>
<td>(</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>npc</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href=
"class_npc_plane.html">NpcPlane</a> &amp;&nbsp;</td>
<td class="paramname"><em>plane</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint&nbsp;</td>
<td class="paramname"><em>childIndex</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">int&nbsp;</td>
<td class="paramname"><em>reason</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> @&nbsp;</td>
<td class="paramname"><em>someCr</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href="class_item.html">Item</a>
@&nbsp;</td>
<td class="paramname"><em>someItem</em>&nbsp;</td>
</tr>

<tr>
<td>
</td>
<td>)</td>
<td>
</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Вызывается перед удалением плана (который еще присутствует в
списках планов).</p>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramname">npc</td>
<td>NPC, для которого вызвана функция.</td>
</tr>

<tr>
<td class="paramname">plane</td>
<td>Удаляемый план.</td>
</tr>

<tr>
<td class="paramname">childIndex</td>
<td>Номер плана в цепочке наследников.</td>
</tr>

<tr>
<td class="paramname">reason</td>
<td>Указывает причину завершения плана (см. <a class="el" href=
"group___planes_reasons.html">Plane end reasons</a>).</td>
</tr>

<tr>
<td class="paramname">someCr</td>
<td>(?)</td>
</tr>

<tr>
<td class="paramname">someItem</td>
<td>(?)</td>
</tr>
</table>
</dd>
</dl>

<dl class="section return">
<dt>Возвращает</dt>

<dd>Если возвратить <code>false</code>, то план станет последним по
текущей приоритетности; если <code>true</code>, то удалится.</dd>
</dl>
</div>
</div>
<a class="anchor" id="gac3526e5c3b20667f12d18d7e92dbd920" name=
"gac3526e5c3b20667f12d18d7e92dbd920"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">bool npc_plane_run</td>
<td>(</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>npc</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href=
"class_npc_plane.html">NpcPlane</a> &amp;&nbsp;</td>
<td class="paramname"><em>plane</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint&nbsp;</td>
<td class="paramname"><em>childIndex</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">int&nbsp;</td>
<td class="paramname"><em>reason</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint &amp;&nbsp;</td>
<td class="paramname"><em>result0</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint &amp;&nbsp;</td>
<td class="paramname"><em>result1</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint &amp;&nbsp;</td>
<td class="paramname"><em>result2</em>&nbsp;</td>
</tr>

<tr>
<td>
</td>
<td>)</td>
<td>
</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Вызывается во время выполнения некоторых планов.</p>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramdir">
</td>
<td class="paramname">npc</td>
<td>NPC, для которого вызвана функцмя-обработчик.</td>
</tr>

<tr>
<td class="paramdir">
</td>
<td class="paramname">plane</td>
<td>План, для которого вызвана функция-обработчик.</td>
</tr>

<tr>
<td class="paramdir">
</td>
<td class="paramname">childIndex</td>
<td>Номер плана в цепочке наследников.</td>
</tr>

<tr>
<td class="paramdir">
</td>
<td class="paramname">reason</td>
<td>Причина, по которой была вызвана функция обработчик (см.
<a class="el" href="group___planes_reasons.html">Plane run
reasons</a>).</td>
</tr>

<tr>
<td class="paramdir">[in,out]</td>
<td class="paramname">result0,result1,result2</td>
<td>Аргументы, интерпретация которых зависит от аргумента
<em>reason</em>.</td>
</tr>
</table>
</dd>
</dl>

<dl class="section return">
<dt>Возвращает</dt>

<dd>Показывает, было ли обработано событие в скрипте.</dd>
</dl>
</div>
</div>
<a class="anchor" id="gaefda118350003a66a85cb59db9db5035" name=
"gaefda118350003a66a85cb59db9db5035"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void karma_voting</td>
<td>(</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>crFrom</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>crTo</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">bool&nbsp;</td>
<td class="paramname"><em>valUp</em>&nbsp;</td>
</tr>

<tr>
<td>
</td>
<td>)</td>
<td>
</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Вызывается при смене кармы одним игроком другому.</p>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramname">crFrom</td>
<td>Игрок, меняющий карму.</td>
</tr>

<tr>
<td class="paramname">crTo</td>
<td>Игрок, которому меняется карма.</td>
</tr>

<tr>
<td class="paramname">valUp</td>
<td>Повышается ли карма (<code>true</code>) или понижается
(<code>false</code>).</td>
</tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga14b67c01434c8c3efbf2ac3f48771674" name=
"ga14b67c01434c8c3efbf2ac3f48771674"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">bool check_look</td>
<td>(</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>cr</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>opponent</em>&nbsp;</td>
</tr>

<tr>
<td>
</td>
<td>)</td>
<td>
</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Обработчик, позволяющий проверять в скрипте видимость одного
криттера другим.</p>

<p>Чтобы эта функция использовалась при расчётах видимости,
установите флаг <code>LOOK_CHECK_SCRIPT</code> глобальной
переменной <a class="el" href=
"group___server.html#ga77cccfe8e4ae35582cbbb95e74cbd04d" title=
"Позволяет задать проверки, используемые при расчете видимости одного криттера другим.">
__LookChecks</a>.</p>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramname">cr</td>
<td>Криттер, относительно которого определяется видимость другого
криттера.</td>
</tr>

<tr>
<td class="paramname">opponent</td>
<td>Криттер, видимость которого проверяется.</td>
</tr>
</table>
</dd>
</dl>

<dl class="section return">
<dt>Возвращает</dt>

<dd><code>true</code>, в случае, если один криттер видит другого;
<code>false</code> – в противном случае.</dd>
</dl>

<dl class="section remark">
<dt>Прим.</dt>

<dd>События <code>CRITTER_EVENT_SHOW_CRITTER_X</code> и
<code>CRITTER_EVENT_HIDE_CRITTER_X</code> при этом не
вызываются.</dd>
</dl>
</div>
</div>
<a class="anchor" id="gad0d56d38561e7d8c719a4aba3f17bdab" name=
"gad0d56d38561e7d8c719a4aba3f17bdab"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">bool check_trap_look</td>
<td>(</td>
<td class="paramtype"><a class="el" href="class_map.html">Map</a>
&amp;&nbsp;</td>
<td class="paramname"><em>map</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>cr</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href="class_item.html">Item</a>
&amp;&nbsp;</td>
<td class="paramname"><em>item</em>&nbsp;</td>
</tr>

<tr>
<td>
</td>
<td>)</td>
<td>
</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Обработчик, позволяющий проверять в скрипте видимость предмета
криттером.</p>

<p>Чтобы эта функция использовалась при расчётах видимости,
установите флаг <code>LOOK_CHECK_ITEM_SCRIPT</code> глобальной
переменной <a class="el" href=
"group___server.html#ga77cccfe8e4ae35582cbbb95e74cbd04d" title=
"Позволяет задать проверки, используемые при расчете видимости одного криттера другим.">
__LookChecks</a>.</p>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramname">map</td>
<td>Карта, на которой проверяется видимость.</td>
</tr>

<tr>
<td class="paramname">cr</td>
<td>Криттер, относительно которого определяется видимость
предмета.</td>
</tr>

<tr>
<td class="paramname">item</td>
<td>Предмет, видимость которого проверяется.</td>
</tr>
</table>
</dd>
</dl>

<dl class="section return">
<dt>Возвращает</dt>

<dd><code>true</code>, в случае, если один криттер видит другого;
<code>false</code> – в противном случае.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga8e26a01b01c68503497a85d8ea23f11e" name=
"ga8e26a01b01c68503497a85d8ea23f11e"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">uint item_cost</td>
<td>(</td>
<td class="paramtype"><a class="el" href="class_item.html">Item</a>
&amp;&nbsp;</td>
<td class="paramname"><em>item</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>cr</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>npc</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">bool&nbsp;</td>
<td class="paramname"><em>sell</em>&nbsp;</td>
</tr>

<tr>
<td>
</td>
<td>)</td>
<td>
</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Обработчик, позволяющий определять в скрипте цену предметов.</p>

<p>Чтобы эта функция использовалась при расчётах цен предметов,
необходимо установить глобальной переменной <a class="el" href=
"group___server.html#gaf37d0dacac742769d48e55784934ab5b" title=
"Указывает, использовать ли для определения цен предметов скриптовую функцию item_cost.">
__CustomItemCost</a> значение <code>true</code>.</p>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramname">item</td>
<td>Предмет, для которого определяется цена.</td>
</tr>

<tr>
<td class="paramname">cr</td>
<td>Игрок, участвующий в обмене.</td>
</tr>

<tr>
<td class="paramname">npc</td>
<td>NPC, участвующий в обмене.</td>
</tr>

<tr>
<td class="paramname">sell</td>
<td>Указывает, продается ли (<code>true</code>) предмет игроком или
покупается (<code>false</code>).</td>
</tr>
</table>
</dd>
</dl>

<dl class="section remark">
<dt>Прим.</dt>

<dd>Не забудьте определить эту функцию в клиентском скрипте.</dd>

<dd>Помните, что надо возвращать цену за один предмет, а не за
все.</dd>
</dl>

<dl class="section return">
<dt>Возвращает</dt>

<dd>Цена одного предмета.</dd>
</dl>

<dl class="section see">
<dt>См. также</dt>

<dd>ClientReserved::item_cost</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga186c6312a9f7164a4dc8e0aa698f1b10" name=
"ga186c6312a9f7164a4dc8e0aa698f1b10"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void items_crafted</td>
<td>(</td>
<td class="paramtype"><a class="el" href="class_item.html">Item</a>
@&amp;[]&nbsp;</td>
<td class="paramname"><em>items</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint &amp;[]&nbsp;</td>
<td class="paramname"><em>itemsCount</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href="class_item.html">Item</a>
@&amp;[]&nbsp;</td>
<td class="paramname"><em>resources</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>crafter</em>&nbsp;</td>
</tr>

<tr>
<td>
</td>
<td>)</td>
<td>
</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Вызывается при крафте игроком новых предметов.</p>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramname">items</td>
<td>Созданные предметы.</td>
</tr>

<tr>
<td class="paramname">itemsCount</td>
<td>Количество созданных предметов (для определения количества
группируемых предметов).</td>
</tr>

<tr>
<td class="paramname">resources</td>
<td>Предметы-ресурсы.</td>
</tr>

<tr>
<td class="paramname">crafter</td>
<td>Игрок, скрафтивший предметы.</td>
</tr>
</table>
</dd>
</dl>

<dl class="section remark">
<dt>Прим.</dt>

<dd>Ресурсы <em>resources</em> в функции не имеют какой-либо
принадлежности (<code><a class="el" href=
"class_item.html#ac1524eedfcbfc6444fc163f2c1c80299" title=
"Определяет, где находится предмет.">Item::Accessory</a> ==
ACCESSORY_NONE</code>) и будут удалены после выхода из функции,
если никому не будут присвоены.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga3291ac75e19595a5ee5a6261bed57d4d" name=
"ga3291ac75e19595a5ee5a6261bed57d4d"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">bool items_barter</td>
<td>(</td>
<td class="paramtype"><a class="el" href="class_item.html">Item</a>
@&amp;[]&nbsp;</td>
<td class="paramname"><em>saleItems</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint &amp;[]&nbsp;</td>
<td class="paramname"><em>saleItemsCount</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href="class_item.html">Item</a>
@&amp;[]&nbsp;</td>
<td class="paramname"><em>buyItems</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint &amp;[]&nbsp;</td>
<td class="paramname"><em>buyItemsCount</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>player</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>npc</em>&nbsp;</td>
</tr>

<tr>
<td>
</td>
<td>)</td>
<td>
</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Вызывается при попытке совершения бартера между игроком и
NPC.</p>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramname">saleItems</td>
<td>Продаваемые игроком предметы.</td>
</tr>

<tr>
<td class="paramname">saleItemsCount</td>
<td>Массив с количеством продаваемых предметов, соответсвующий
<em>saleItems</em>.</td>
</tr>

<tr>
<td class="paramname">buyItems</td>
<td>Покупаемые игроком предметы.</td>
</tr>

<tr>
<td class="paramname">buyItemsCount</td>
<td>Массив с количеством покупаемых предметов, соответствующий
<em>buyItems</em>.</td>
</tr>

<tr>
<td class="paramname">player</td>
<td>Игрок, участвующий в бартере.</td>
</tr>

<tr>
<td class="paramname">npc</td>
<td>NPC, участвующий в бартере.</td>
</tr>
</table>
</dd>
</dl>

<dl class="section return">
<dt>Возвращает</dt>

<dd>Если возвращается <code>false</code>, то бартер не будет
совершен.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga920dae430a7b8ad275e88d693696fa5b" name=
"ga920dae430a7b8ad275e88d693696fa5b"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void player_levelup</td>
<td>(</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> &amp;&nbsp;</td>
<td class="paramname"><em>player</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint&nbsp;</td>
<td class="paramname"><em>skillIndex</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint&nbsp;</td>
<td class="paramname"><em>skillUp</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype">uint&nbsp;</td>
<td class="paramname"><em>perkIndex</em>&nbsp;</td>
</tr>

<tr>
<td>
</td>
<td>)</td>
<td>
</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Вызывается при распределении скиллпоинтов или выборе перка
игроком.</p>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramname">player</td>
<td>Игрок.</td>
</tr>

<tr>
<td class="paramname">skillIndex</td>
<td>Номер навыка, на который распределяются скиллпоинты (см.
<a class="el" href="group___skills.html">Навыки</a>).</td>
</tr>

<tr>
<td class="paramname">skillUp</td>
<td>Количество затраченных скиллпоинтов.</td>
</tr>

<tr>
<td class="paramname">perkIndex</td>
<td>Номер выбранного перка (см. <a class="el" href=
"group___perks.html">Перки</a>).</td>
</tr>
</table>
</dd>
</dl>
</div>
</div>
<a class="anchor" id="gabd3dd70fcbfa2ee4f283f8305fe5e0f9" name=
"gabd3dd70fcbfa2ee4f283f8305fe5e0f9"></a>
<div class="memitem">
<div class="memproto">
<table class="memname">
<tr>
<td class="memname">void turn_based_sequence</td>
<td>(</td>
<td class="paramtype"><a class="el" href="class_map.html">Map</a>
&amp;&nbsp;</td>
<td class="paramname"><em>map</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> @&amp;[]&nbsp;</td>
<td class="paramname"><em>critters</em>,</td>
</tr>

<tr>
<td class="paramkey">
</td>
<td>
</td>
<td class="paramtype"><a class="el" href=
"class_critter.html">Critter</a> @&nbsp;</td>
<td class="paramname"><em>firstTurnCrit</em>&nbsp;</td>
</tr>

<tr>
<td>
</td>
<td>)</td>
<td>
</td>
<td>
</td>
</tr>
</table>
</div>

<div class="memdoc">
<p>Вызывается перед каждым новым раундом в пошаговом бое.</p>

<dl class="params">
<dt>Аргументы</dt>

<dd>
<table class="params">
<tr>
<td class="paramname">map</td>
<td>Карта боя.</td>
</tr>

<tr>
<td class="paramname">critters</td>
<td>Все игроки с карты.</td>
</tr>

<tr>
<td class="paramname">firstTurnCrit</td>
<td>Игрок, который ходит первым. Данный аргумент берется из
<a class="el" href=
"class_map.html#a4d87f9f3a8e01bb1657542e39c579c95" title=
"Включает пошаговый режим на карте.">Map::BeginTurnBased</a>.</td>
</tr>
</table>
</dd>
</dl>

<dl class="section remark">
<dt>Прим.</dt>

<dd>Отсортированная очередь возвращается в переданном массиве
<a class="el" href="class_critter.html" title=
"Криттер.">Critter</a>@[]&amp; critters.</dd>
</dl>
</div>
</div>
</div>
<!-- contents -->
<!-- start footer part -->

<hr class="footer" />

<address class="footer"><small>Документация по FOnline. Последние
изменения: Вт 28 Май 2013 01:58:04. Создано системой &nbsp;<a href=
"http://www.doxygen.org/index.html"><img class="footer" src=
"doxygen.png" alt="doxygen" /></a> 1.8.3.1</small>
</address>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("" + chmtop.c2wtopf.pageid);
}
</script>

<!-- CHM2WEB -->
<!-- DO NOT DELETE OR MODIFY THIS CODE WITHOUT 
     WRITTEN PERMISSION OF A!K RESEARCH LABS -->
<table width="100%" cellspacing="0" cellpadding="0" 
style="margin-top: 0pt; border-collapse: collapse;"> 
<tr> <td align="right" style="background-color:white; border-top: 1px solid gray;"> 
<a href="http://chm2web.aklabs.com" target="_blank" style="font-family: sans-serif;  font-size: 11px; text-decoration: none;"><font color="gray">Converted from CHM to HTML with <b>chm2web Pro 2.85 (unicode)</b></font></a>
</td></tr></table> 
<!-- /CHM2WEB -->

</body>
</html>
